%拉格朗日电磁势

由于
\begin{equation}
\frac{\D}{{\D t}}\frac{{\partial T}}{{\partial {{\dot q}_i}}} - \frac{{\partial T}}{{\partial {q_i}}} = {Q_i}
\end{equation}
若非常规势能  $U({q_1},{q_2}...{\dot q_1},{\dot q_2}...,t)$ 与广义力满足
\begin{equation}
{Q_i} = \frac{\D}{{\D t}}\frac{{\partial U}}{{\partial {{\dot q}_i}}} - \frac{{\partial U}}{{\partial {q_i}}}
\end{equation}
且定义拉格朗日量为 $L = T - U$, 则代入可得拉格朗日方程
\begin{equation}
\frac{\D}{{\D t}}\frac{{\partial L}}{{\partial {{\dot q}_i}}} = \frac{{\partial L}}{{\partial {q_i}}}
\end{equation}

现在证明在任意电磁场中运动的点电荷的非常规势为
\begin{equation}
U = q(\Phi  - \vec A \vdot \vec v)
\end{equation}
以下用直角坐标证明(${q_1},{q_2},{q_3} = x,y,z$) %未完成: (能否使用其他坐标系？)
\begin{equation}
{F_i} = {Q_i} =  - \frac{{\partial U}}{{\partial {x_i}}} + \frac{\D}{{\D t}}\frac{{\partial u}}{{\partial {{\dot x}_i}}}
\end{equation}
以 $x$ 为例
\begin{equation}
\frac{\D}{{\D t}}\frac{{\partial U}}{{\partial \dot x}} =  - q\frac{\D}{{\D t}}{A_x} =  - q\left[ {(\grad {A_x}) \vdot \vec v + \frac{{\partial {A_x}}}{{\partial t}}} \right]
\end{equation}
\begin{equation}
\frac{{\partial U}}{{\partial x}} = q\left( {\frac{{\partial \phi }}{{\partial x}} - \frac{{\partial \vec A}}{{\partial x}} \vdot \vec v} \right)
\end{equation}
\begin{equation}
{Q_x} =  - \frac{{\partial U}}{{\partial x}} + \frac{\D}{{\D t}}\frac{{\partial u}}{{\partial \dot x}} = q\left[ { - \frac{{\partial \Phi }}{{\partial x}} - \frac{{\partial {A_x}}}{{\partial t}} + {v_y}\left( {\frac{{\partial {A_y}}}{{\partial x}} - \frac{{\partial {A_x}}}{{\partial y}}} \right) - {v_z}\left( {\frac{{\partial {A_x}}}{{\partial z}} - \frac{{\partial {A_z}}}{{\partial x}}} \right)} \right]
\end{equation} 
根据广义洛伦兹力及电磁势的定义
\begin{equation}
\vec F = q\left( {\vec E + \vec v \cross \vec B} \right)
\qquad
\vec E =  - \grad \Phi  - \frac{{\partial \vec A}}{{\partial t}}
\qquad
\vec B = \curl \vec A
\end{equation}
\begin{equation}\begin{aligned}
{F_x} &= q\left( {{E_x} + {v_y}{B_z} - {v_z}{B_y}} \right) \\
&= q\left[ { - \frac{{\partial \Phi }}{{\partial x}} - \frac{{\partial {A_x}}}{{\partial t}} + {v_y}\left( {\frac{{\partial {A_y}}}{{\partial x}} - \frac{{\partial {A_x}}}{{\partial y}}} \right) - {v_z}\left( {\frac{{\partial {A_x}}}{{\partial z}} - \frac{{\partial {A_z}}}{{\partial x}}} \right)} \right]
\end{aligned}\end{equation}
对比可得 ${F_x} = {Q_x}$. 
